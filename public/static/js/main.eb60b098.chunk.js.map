{"version":3,"sources":["components/TagSection.js","components/UploadSection.js","components/Footer.js","App.js","index.js"],"names":["TagSection","state","input","handleInputChange","e","_this","setState","target","value","handleSubmit","preventDefault","props","onCreate","handleTagDelete","idx","onDelete","_this2","this","list","tags","map","tag","i","react_default","a","createElement","TagSection_TagItem","key","className","placeholder","onChange","onClick","Component","TagItem","_ref","id","fill","preserveAspectRatio","height","width","viewBox","style","verticalAlign","d","UploadSection","isUpload","handleUploadBtnClicked","document","getElementById","click","handleFileChange","file","files","handleFileDelete","type","display","UploadSection_ThumbnailPreview","thumbnail_url","onDeleted","onClicked","UploadSection_UploadButton","UploadButton","ThumbnailPreview","_ref2","src","alt","Footer","onSubmit","App","isShow","title","content","List","thumbnail_file","handleTagCreate","data","includes","push","console","log","delete","handleThumbnailChange","reader","FileReader","onloadend","result","readAsDataURL","window","editor","getHtml","FormData","append","toArray","fetch","method","headers","X-CSRF-TOKEN","querySelector","getAttribute","redirect","body","then","res","alert","location","href","catch","err","components_TagSection","components_UploadSection","components_Footer","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.eb60b098.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass TagSection extends Component {\r\n  state = {\r\n    input: '',\r\n  }\r\n  handleInputChange = (e) => {\r\n    this.setState({\r\n      input: e.target.value\r\n    });\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onCreate(this.state.input);\r\n    this.setState({\r\n      input: ''\r\n    })\r\n  }\r\n  handleTagDelete = (idx) => {\r\n    this.props.onDelete(idx);\r\n  }\r\n  render() {\r\n    const { tags } = this.props;\r\n    const list = tags.map((tag, i) => (<TagItem key={i} tag={tag} onDelete={(e) => this.handleTagDelete(i)} />));\r\n    return (\r\n      <section>\r\n        <div className=\"section-title\">\r\n          태그 설정\r\n        </div>\r\n        <div className=\"InputTags\">\r\n          <div className=\"input-button\">\r\n            <input \r\n              placeholder=\"태그를 입력해 주십시오\"\r\n              value={this.state.input}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <div \r\n              className=\"button util flex-center\"\r\n              onClick={this.handleSubmit}\r\n              >등록</div>\r\n          </div>\r\n          <div className=\"tags ps\">\r\n            {list}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nconst TagItem = ({ tag, idx, onDelete }) => {\r\n  return (\r\n    <div className=\"tag\" >\r\n      <div id='tag' className=\"text\">{tag}</div>\r\n      <div className=\"remove\"\r\n        idx={idx}\r\n        onClick={onDelete}>\r\n        <svg fill=\"currentColor\" preserveAspectRatio=\"xMidYMid meet\" height=\"1em\" width=\"1em\" viewBox=\"0 0 40 40\" style={{verticalAlign: 'middle'}}>\r\n          <g>\r\n            <path d=\"m28.4 21.6v-3.2h-16.8v3.2h16.8z m-8.4-18.2c9.2 0 16.6 7.4 16.6 16.6s-7.4 16.6-16.6 16.6-16.6-7.4-16.6-16.6 7.4-16.6 16.6-16.6z\"></path>\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default TagSection;","import React, { Component } from 'react';\r\n\r\nclass UploadSection extends Component {\r\n  state = {\r\n    isUpload : false,\r\n  }\r\n\r\n  handleUploadBtnClicked = () => {\r\n    document.getElementById('thumbnail').click();\r\n  }\r\n\r\n  handleFileChange = (e) => {\r\n    let file = e.target.files[0];\r\n    this.props.onChange(file);\r\n    this.setState({\r\n      isUpload: true\r\n    })\r\n  }\r\n  handleFileDelete = () => {\r\n    this.setState({\r\n      isUpload: false\r\n    })\r\n    this.props.onChange();\r\n  }\r\n  render() {\r\n    const { isUpload } = this.state;\r\n    return (\r\n      <section>\r\n        <div className=\"section-title\">썸네일 지정</div>\r\n        <input type=\"file\" id=\"thumbnail\" onChange={this.handleFileChange} style={{ display:'none' }} />\r\n        {isUpload ? \r\n          <ThumbnailPreview\r\n            thumbnail_url={this.props.thumbnail_url}\r\n            onDeleted={this.handleFileDelete}\r\n            onClicked={this.handleUploadBtnClicked} /> : \r\n          <UploadButton\r\n            onClicked={this.handleUploadBtnClicked}\r\n           /> \r\n        }\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nconst UploadButton = ({onClicked}) => {\r\n  return (\r\n    <div className=\"WriteConfigureThumbnail\">\r\n      <button className=\"white-button fullwidth\" onClick={onClicked}>\r\n        <div className=\"text\">업로드</div>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\nconst ThumbnailPreview = ({thumbnail_url, onClicked, onDeleted}) => {\r\n  return (\r\n    <div className=\"WriteConfigureThumbnail\">\r\n      <div className=\"remove-wrapper\">\r\n      <button className=\"remove\" onClick={onDeleted}>제거</button>\r\n      </div>\r\n      <div className=\"thumbnail-area\">\r\n      <img className=\"full\" src={thumbnail_url} alt=\"post-thumbnail\" />\r\n        <div className=\"overlay full\">\r\n          <button className=\"white-button\">\r\n            <div className=\"text\" onClick={onClicked}>\r\n              변경\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadSection;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"buttons\">\r\n        <button className=\"gray\">\r\n          <font style={{verticalAlign: 'inherit'}}>\r\n          <font style={{verticalAlign: 'inherit'}}>\r\n            임시 저장\r\n          </font></font>\r\n        </button>\r\n        <button className=\"purple\" onClick={this.props.onSubmit}>\r\n        <font style={{verticalAlign: 'inherit'}}>\r\n        <font style={{verticalAlign: 'inherit'}}>\r\n            작성하기\r\n        </font></font>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\nimport TagSection from './components/TagSection';\nimport UploadSection from './components/UploadSection';\nimport Footer from './components/Footer';\n\nimport './App.css';\nimport './css/inputTags.css';\nimport './css/scrollbar.css';\nimport './css/writeThumbnail.css';\n\nimport { List } from 'immutable';\n\nclass App extends Component {\n  state = {\n    isShow : true,\n    title : '',\n    content : '',\n    tags : new List(),\n    thumbnail_file: '',\n    thumbnail_url: '',\n  }\n  \n  handleTagCreate = (data) => {\n    const tags = this.state.tags;\n    if(tags.includes(data) || !data){\n      return\n    }else{\n      this.setState({\n        tags: tags.push(data)\n      })\n    }\n  }\n\n  handleTagDelete = (idx) => {\n    console.log(idx);\n    const tags = this.state.tags;\n    this.setState({\n      tags: tags.delete(idx)\n    });\n  }\n  handleThumbnailChange = (file) => {\n    if(!file) {\n      this.setState({\n        thumbnail_file:'',\n        thumbnail_url: ''\n      })\n      return\n    }\n    let reader = new FileReader();\n    reader.onloadend = () => {\n      this.setState({\n        thumbnail_file: file,\n        thumbnail_url: reader.result\n      });\n    }\n    reader.readAsDataURL(file);\n  }\n\n  handleSubmit = () => {\n    this.setState({\n      title: document.getElementById('title_text').value,\n      content: window.editor.getHtml()\n    });\n    let state = this.state;\n    if(!state.title && !state.content) {\n      alert('모두 입력하여 주십시오');\n    }else {\n      let data = new FormData();\n      data.append('title', state.title);\n      data.append('content', state.content);\n      data.append('tags', state.tags.toArray());\n      data.append('thumbnail', state.thumbnail_file);\n\n      fetch('/posts', {\n        method: 'POST',\n        headers : {\n          \"X-CSRF-TOKEN\": document.querySelector(\"meta[property='csrf']\").getAttribute(\"content\"),\n        },\n        redirect: 'follow',\n        body: data,\n      }).then(res => {\n        alert('성공적으로 등록되었습니다.');\n        window.location.href = '/';\n      }).catch(err => {\n        console.log(err);\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"SubmitBox\">\n        <div className=\"title text\">\n          새 글 작성하기\n        </div>\n        <div className=\"sections\">\n          <TagSection\n            onDelete={this.handleTagDelete}\n            onCreate={this.handleTagCreate}\n            tags={this.state.tags} />\n          <UploadSection\n            thumbnail_url={this.state.thumbnail_url}\n            onChange={this.handleThumbnailChange} />\n        </div>\n        <div className=\"footer\">\n          <Footer\n            onSubmit={this.handleSubmit} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}