(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(7),c=a.n(i),r=a(1),s=a(2),o=a(4),u=a(3),m=a(5),h=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={input:""},a.handleInputChange=function(e){a.setState({input:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onCreate(a.state.input),a.setState({input:""})},a.handleTagDelete=function(e){a.props.onDelete(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tags.map(function(t,a){return l.a.createElement(d,{key:a,tag:t,onDelete:function(t){return e.handleTagDelete(a)}})});return l.a.createElement("section",null,l.a.createElement("div",{className:"section-title"},"\ud0dc\uadf8 \uc124\uc815"),l.a.createElement("div",{className:"InputTags"},l.a.createElement("div",{className:"input-button"},l.a.createElement("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud574 \uc8fc\uc2ed\uc2dc\uc624",value:this.state.input,onChange:this.handleInputChange}),l.a.createElement("div",{className:"button util flex-center",onClick:this.handleSubmit},"\ub4f1\ub85d")),l.a.createElement("div",{className:"tags ps"},t)))}}]),t}(n.Component),d=function(e){var t=e.tag,a=e.idx,n=e.onDelete;return l.a.createElement("div",{className:"tag"},l.a.createElement("div",{id:"tag",className:"text"},t),l.a.createElement("div",{className:"remove",idx:a,onClick:n},l.a.createElement("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"}},l.a.createElement("g",null,l.a.createElement("path",{d:"m28.4 21.6v-3.2h-16.8v3.2h16.8z m-8.4-18.2c9.2 0 16.6 7.4 16.6 16.6s-7.4 16.6-16.6 16.6-16.6-7.4-16.6-16.6 7.4-16.6 16.6-16.6z"})))))},p=h,f=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={isUpload:!1},a.handleUploadBtnClicked=function(){document.getElementById("thumbnail").click()},a.handleFileChange=function(e){var t=e.target.files[0];a.props.onChange(t),a.setState({isUpload:!0})},a.handleFileDelete=function(){a.setState({isUpload:!1}),a.props.onChange()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.isUpload;return l.a.createElement("section",null,l.a.createElement("div",{className:"section-title"},"\uc378\ub124\uc77c \uc9c0\uc815"),l.a.createElement("input",{type:"file",id:"thumbnail",onChange:this.handleFileChange,style:{display:"none"}}),e?l.a.createElement(v,{thumbnail_url:this.props.thumbnail_url,onDeleted:this.handleFileDelete,onClicked:this.handleUploadBtnClicked}):l.a.createElement(b,{onClicked:this.handleUploadBtnClicked}))}}]),t}(n.Component),b=function(e){var t=e.onClicked;return l.a.createElement("div",{className:"WriteConfigureThumbnail"},l.a.createElement("button",{className:"white-button fullwidth",onClick:t},l.a.createElement("div",{className:"text"},"\uc5c5\ub85c\ub4dc")))},v=function(e){var t=e.thumbnail_url,a=e.onClicked,n=e.onDeleted;return l.a.createElement("div",{className:"WriteConfigureThumbnail"},l.a.createElement("div",{className:"remove-wrapper"},l.a.createElement("button",{className:"remove",onClick:n},"\uc81c\uac70")),l.a.createElement("div",{className:"thumbnail-area"},l.a.createElement("img",{className:"full",src:t,alt:"post-thumbnail"}),l.a.createElement("div",{className:"overlay full"},l.a.createElement("button",{className:"white-button"},l.a.createElement("div",{className:"text",onClick:a},"\ubcc0\uacbd")))))},g=f,E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{className:"gray"},l.a.createElement("font",{style:{verticalAlign:"inherit"}},l.a.createElement("font",{style:{verticalAlign:"inherit"}},"\uc784\uc2dc \uc800\uc7a5"))),l.a.createElement("button",{className:"purple",onClick:this.props.onSubmit},l.a.createElement("font",{style:{verticalAlign:"inherit"}},l.a.createElement("font",{style:{verticalAlign:"inherit"}},"\uc791\uc131\ud558\uae30"))))}}]),t}(n.Component),C=(a(14),a(16),a(18),a(20),a(8)),y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={isShow:!0,title:"",content:"",tags:new C.List,thumbnail_file:"",thumbnail_url:""},a.handleTagCreate=function(e){var t=a.state.tags;!t.includes(e)&&e&&a.setState({tags:t.push(e)})},a.handleTagDelete=function(e){console.log(e);var t=a.state.tags;a.setState({tags:t.delete(e)})},a.handleThumbnailChange=function(e){if(e){var t=new FileReader;t.onloadend=function(){a.setState({thumbnail_file:e,thumbnail_url:t.result})},t.readAsDataURL(e)}else a.setState({thumbnail_file:"",thumbnail_url:""})},a.handleSubmit=function(){var e=new URLSearchParams(window.location.search).get("edit_id"),t="/posts"+(e?"/".concat(e):"");console.log(t),a.setState({title:document.getElementById("title_text").value,content:window.editor.getHtml()});var n=a.state;if(n.title||n.content){var l=new FormData;l.append("title",n.title),l.append("content",n.content),l.append("tags",n.tags.toArray()),l.append("thumbnail",n.thumbnail_file),fetch(t,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector("meta[property='csrf']").getAttribute("content")},redirect:"follow",body:l}).then(function(e){alert("\uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),window.location.href="/"}).catch(function(e){console.log(e)})}else alert("\ubaa8\ub450 \uc785\ub825\ud558\uc5ec \uc8fc\uc2ed\uc2dc\uc624")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"SubmitBox",style:{display:"none"}},l.a.createElement("div",{className:"title text"},"\uc0c8 \uae00 \uc791\uc131\ud558\uae30"),l.a.createElement("div",{className:"sections"},l.a.createElement(p,{onDelete:this.handleTagDelete,onCreate:this.handleTagCreate,tags:this.state.tags}),l.a.createElement(g,{thumbnail_url:this.state.thumbnail_url,onChange:this.handleThumbnailChange})),l.a.createElement("div",{className:"footer"},l.a.createElement(E,{onSubmit:this.handleSubmit})))}}]),t}(n.Component);c.a.render(l.a.createElement(y,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(22)}},[[9,2,1]]]);
//# sourceMappingURL=main.8d5f1bc4.chunk.js.map